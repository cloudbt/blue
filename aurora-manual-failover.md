# Aurora MySQL手動フェイルオーバー手順

1. 準備
   - フェイルオーバー実行前に、すべてのインスタンスが正常に動作していることを確認します。
   - アプリケーションチームに通知し、フェイルオーバー中の短時間の接続中断に備えてもらいます。

2. AWS Management Consoleにログイン
   - AWSマネジメントコンソールにログインし、RDSサービスに移動します。

3. Aurora クラスターの選択
   - 対象のAurora MySQLクラスターを選択します。

4. 現在のプライマリインスタンスの確認
   - クラスターの詳細ページで、現在のプライマリ（ライター）インスタンスを確認します。

5. フェイルオーバーの実行
   - クラスターの「アクション」メニューから「フェイルオーバー」を選択します。
   - 新しいプライマリインスタンスとして昇格させたいリーダーインスタンスを選択します。
   - 「フェイルオーバー」ボタンをクリックして実行します。

6. フェイルオーバーの監視
   - フェイルオーバープロセスが完了するまで待機します（通常1分以内）。
   - RDSコンソールでインスタンスのステータスを監視します。

7. 新しいプライマリの確認
   - フェイルオーバー完了後、新しいプライマリインスタンスが正しく昇格されたことを確認します。

8. アプリケーションの確認
   - アプリケーションが新しいプライマリインスタンスに正常に接続できていることを確認します。

9. 旧プライマリのインスタンスクラス変更
   - 旧プライマリ（現在はリーダー）のインスタンスクラスをdb.r6g.largeに変更します。
   - 「インスタンスの変更」から新しいインスタンスクラスを選択し、「すぐに適用」を選択します。

10. クラスターのステータス確認
    - すべてのインスタンスが正常に動作していることを再確認します。

注意: フェイルオーバー中は短時間（通常60秒以内）の書き込み操作の中断が発生します。読み取り操作は影響を受けにくいですが、一時的な遅延が生じる可能性があります。
